<!DOCTYPE HTML>
<html>
<head>
  <title>thumbsget4web</title>
</head>
<body>
    <script type="text/javascript">
        // Some parts of this JS were based on this
        // SO answer:
        // https://stackoverflow.com/a/11219605

        function getThumbnailUrl() {
            // First we need to define the image box so we can set
            // the preview in it.
            var thumbnailPreviewBox = document.getElementById("thumbnailImageBox");
            var thumbnailUrl = new String(document.getElementById("video_url").value);

            // Next, we need to make sure there's stuff in the textbox.
            if (thumbnailPreview.length)
            // Now we can do stuff and replace text.
            {
                // Look at the URL, and replace "www.youtube.com/watch?v=" with "i.ytimg.com/vi/".
                // Actually, first replace "www." with "" (nothing).

                console.info("Start:")
                console.info("Current URL: " & thumbnailUrl)

                // Replace "www." with nothing.
                thumbnailUrl = thumbnailUrl.replace("www.", "")
                console.info("Replace www. Current URL: " & thumbnailUrl)

                // Replace "m." with nothing.
                thumbnailUrl = thumbnailUrl.replace("m.", "")
                console.info("Replace m. Current URL: " & thumbnailUrl)

                // Replace "?feature=youtu.be" with nothing.
                thumbnailUrl = thumbnailUrl.replace("?feature=youtu.be", "")
                console.info("Replace ?feature=youtu.be. Current URL: " & thumbnailUrl)

                // Replace "&feature=youtu.be" with nothing.
                thumbnailUrl = thumbnailUrl.replace("&feature=youtu.be", "")
                console.info("Replace &feature=youtu.be. Current URL: " & thumbnailUrl)

                ' Now, if "youtube.com/watch?" is in the URL, replace it and "v=" with "i.ytimg.com/vi/".
                if thumbnailUrl.includes("youtube.com/watch?")
                    {
                thumbnailUrl = thumbnailUrl.replace("youtube.com/watch?v=", "i.ytimg.com/vi/")
                console.info("Replace youtube.com/watch?v=. Current URL: " & thumbnailUrl)
                } else if thumbnailUrl.Contains("youtu.be/")
                    {

                ' If the URL contains "youtu.be/", replace that with "i.ytimg.com/vi/".
                thumbnailUrl = thumbnailUrl.Replace("youtu.be/", "i.ytimg.com/vi/")
                Debug.WriteLine("Replace youtu.be. Current URL: " & thumbnailUrl)
                    }
                ' Replace "watch" with nothing.
                thumbnailUrl = thumbnailUrl.Replace("watch", "")
                Debug.WriteLine("Replace watch. Current URL: " & thumbnailUrl)
                ' Replace "&v=" with nothing.
                thumbnailUrl = thumbnailUrl.Replace("&v=", "")
                Debug.WriteLine("Replace &v=. Current URL: " & thumbnailUrl)
                ' Once again, replace "youtube.com/" with "i.ytimg.com/vi/".
                thumbnailUrl = thumbnailUrl.Replace("youtube.com/", "i.ytimg.com/vi/")
                Debug.WriteLine("Replace youtube.com/. Current URL: " & thumbnailUrl)

                ' Add "maxresdefault.jpg" to end of URL.
                thumbnailUrl = thumbnailUrl & "/maxresdefault.jpg"
                Debug.WriteLine("Append /maxresdefault.jpg. Current URL: " & thumbnailUrl)
            }



            //alert(thumbnailPreview)
            thumbnailPreviewBox.src = thumbnailPreview;
        }</script>

   <form>
    <label for:"video_url">Video URL:</label> <input type="text" id="video_url">
    <br>
    <br>
    <input type="button" onclick="save_thumbnail(video_url)" value="Save thumbnail...">
    <br>
    <input type="button" onclick="previewThumbnail()" value="Preview thumbnail"> 
   </form>

   <img id="thumbnailImageBox" width="320" src="">
    


</body>
</html>
